"use strict";(self.webpackChunkcrypto_tracker=self.webpackChunkcrypto_tracker||[]).push([[841],{8841:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(8152),o=n(2791),a=n(1933),i=n(6478),c=n(3496),s=n(4206),u=n.n(s);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=void 0,this.data=e}var e,n,r;return e=t,(n=[{key:"getPriceChartOptions",value:function(){var t,e;return{type:"line",series:[{name:"Price",data:null===(t=this.data)||void 0===t?void 0:t.map((function(t){return t.close}))}],options:{theme:{mode:"dark"},chart:{height:300,width:500,toolbar:{show:!1},background:"transparent"},grid:{show:!1},stroke:{curve:"smooth",width:4},yaxis:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},type:"datetime",categories:null===(e=this.data)||void 0===e?void 0:e.map((function(t){return t.time_close}))},fill:{type:"gradient",gradient:{gradientToColors:["#0be881"],stops:[0,100]}},colors:["#0fbcf9"],tooltip:{y:{formatter:function(t){return"$".concat(t.toFixed(2))}}}}}}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=n(184),l=function(t){var e=t.coinId;console.log("chart coinId: ",e);var n=(0,o.useState)(null),s=(0,r.Z)(n,2),f=s[0],l=s[1],p=(0,a.useQuery)(["ohlcv",e],(function(){return(0,i.XB)(e)}),{refetchInterval:1e4}),v=p.isLoading,w=p.data;return(0,o.useEffect)((function(){w&&(console.log("data777: ",w),l(new h(w).getPriceChartOptions()))}),[w]),(0,d.jsx)(d.Fragment,{children:v?(0,d.jsx)(u(),{}):f&&(0,d.jsx)(c.Z,{type:f.type,series:f.series,options:{theme:{mode:"dark"},chart:{height:300,width:500,toolbar:{show:!1},background:"transparent"},grid:{show:!1},stroke:{curve:"smooth",width:4},yaxis:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},type:"datetime",categories:null===w||void 0===w?void 0:w.map((function(t){return t.time_close}))},fill:{type:"gradient",gradient:{gradientToColors:["#0be881"],stops:[0,100]}},colors:["#0fbcf9"],tooltip:{y:{formatter:function(t){return"$".concat(t.toFixed(2))}}}}})})}},6478:function(t,e,n){n.d(e,{Du:function(){return s},XB:function(){return u},Yr:function(){return i},_B:function(){return c}});var r=n(8214),o=n(5861),a="https://api.coinpaprika.com/v1",i=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/coins"));case 2:return t.next=4,t.sent.json();case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/coins/").concat(e));case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function s(t){return fetch("".concat(a,"/tickers/").concat(t)).then((function(t){return t.json()}))}function u(t){Math.floor(Date.now()/1e3);return fetch("https://ohlcv-api.nomadcoders.workers.dev/?coinId=".concat(t)).then((function(t){return t.json()}))}}}]);
//# sourceMappingURL=841.c5588a69.chunk.js.map