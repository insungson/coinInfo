{"version":3,"file":"static/js/754.9fe61de5.chunk.js","mappings":"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","sources":["components/Price.tsx","utils/api.ts","../node_modules/react-spinners/esm/helpers/unitConverter.js","../node_modules/react-spinners/esm/helpers/proptypes.js","../node_modules/react-spinners/esm/RingLoader.js"],"sourcesContent":["import { useQuery } from \"react-query\";\r\nimport { fetchCoinHistory } from \"@utils/api\";\r\nimport ApexCharts from \"react-apexcharts\";\r\nimport { RingLoader } from \"react-spinners\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport { IHistorical } from \"@models/price\";\r\nimport { ChartProps } from \"@models/price\";\r\n\r\nconst Price = ({ coinId }: ChartProps) => {\r\n  console.log(\"price coinId: \", coinId);\r\n  const [chartOptions, setChartOptions] = useState<{\r\n    series: any;\r\n    options: any;\r\n  } | null>(null);\r\n\r\n  const { isLoading, data } = useQuery<IHistorical[]>(\r\n    [\"priceCandle\", coinId],\r\n    () => fetchCoinHistory(coinId),\r\n    {\r\n      refetchInterval: 10000,\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setChartOptions({\r\n        series: [\r\n          {\r\n            data: data.map((obj) => ({\r\n              x: new Date(obj.time_close),\r\n              y: [obj.open, obj.high, obj.low, obj.close],\r\n            })),\r\n          },\r\n        ],\r\n        options: {\r\n          chart: {\r\n            type: \"candlestick\",\r\n            height: 350,\r\n            toolbar: {\r\n              show: false,\r\n            },\r\n          },\r\n          title: {\r\n            text: \"CandleStick Chart\",\r\n            align: \"left\",\r\n          },\r\n          xaxis: {\r\n            type: \"datetime\",\r\n          },\r\n          yaxis: {\r\n            tooltip: {\r\n              enabled: true,\r\n            },\r\n          },\r\n          tooltip: {\r\n            custom: function (temp: any) {\r\n              const { dataPointIndex } = temp;\r\n              console.log(\"temp: \", temp);\r\n              console.log(\"data123123: \", data);\r\n              return (\r\n                <div style={{ zIndex: 10 }}>\r\n                  암것도 안써짐...\r\n                  <span color=\"black\">open:</span>\r\n                  <span>{data[dataPointIndex].open}</span>\r\n                  <br />\r\n                  <span color=\"black\">open:</span>\r\n                  <span>{data[dataPointIndex].high}</span>\r\n                  <br /> <span color=\"black\">open:</span>\r\n                  <span>{data[dataPointIndex].low}</span>\r\n                  <br /> <span color=\"black\">open:</span>\r\n                  <span>{data[dataPointIndex].close}</span>\r\n                </div>\r\n              );\r\n            },\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <RingLoader />\r\n      ) : (\r\n        chartOptions && (\r\n          <ApexCharts\r\n            options={chartOptions.options}\r\n            series={chartOptions.series}\r\n            type=\"candlestick\"\r\n            height={350}\r\n          />\r\n        )\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Price;\r\n","const BASE_URL = `https://api.coinpaprika.com/v1`;\r\n\r\nexport const fetchCoins = async () => {\r\n  const response = await (await fetch(`${BASE_URL}/coins`)).json();\r\n  return response;\r\n};\r\n\r\nexport const fetchCoinInfo = async (coinId?: string) => {\r\n  return await (await fetch(`${BASE_URL}/coins/${coinId}`)).json();\r\n};\r\n\r\n// export function fetchCoinInfo(coinId: string) {\r\n//   return fetch(`${BASE_URL}/coins/${coinId}`).then((response) =>\r\n//     response.json()\r\n//   );\r\n// }\r\n\r\nexport function fetchCoinTickers(coinId?: string) {\r\n  return fetch(`${BASE_URL}/tickers/${coinId}`).then((response) =>\r\n    response.json()\r\n  );\r\n}\r\n\r\nexport function fetchCoinHistory(coinId: string) {\r\n  const endDate = Math.floor(Date.now() / 1000);\r\n  const startDate = endDate - 60 * 60 * 24 * 7 * 2;\r\n  return fetch(\r\n    `https://ohlcv-api.nomadcoders.workers.dev/?coinId=${coinId}`\r\n  ).then((response) => response.json());\r\n}\r\n","var cssUnit = {\n    cm: true,\n    mm: true,\n    in: true,\n    px: true,\n    pt: true,\n    pc: true,\n    em: true,\n    ex: true,\n    ch: true,\n    rem: true,\n    vw: true,\n    vh: true,\n    vmin: true,\n    vmax: true,\n    \"%\": true\n};\n/**\n * If size is a number, append px to the value as default unit.\n * If size is a string, validate against list of valid units.\n * If unit is valid, return size as is.\n * If unit is invalid, console warn issue, replace with px as the unit.\n *\n * @param {(number | string)} size\n * @return {LengthObject} LengthObject\n */\nexport function parseLengthAndUnit(size) {\n    if (typeof size === \"number\") {\n        return {\n            value: size,\n            unit: \"px\"\n        };\n    }\n    var value;\n    var valueString = (size.match(/^[0-9.]*/) || \"\").toString();\n    if (valueString.includes(\".\")) {\n        value = parseFloat(valueString);\n    }\n    else {\n        value = parseInt(valueString, 10);\n    }\n    var unit = (size.match(/[^0-9]*$/) || \"\").toString();\n    if (cssUnit[unit]) {\n        return {\n            value: value,\n            unit: unit\n        };\n    }\n    console.warn(\"React Spinners: \" + size + \" is not a valid css value. Defaulting to \" + value + \"px.\");\n    return {\n        value: value,\n        unit: \"px\"\n    };\n}\n/**\n * Take value as an input and return valid css value\n *\n * @param {(number | string)} value\n * @return {string} valid css value\n */\nexport function cssValue(value) {\n    var lengthWithunit = parseLengthAndUnit(value);\n    return \"\" + lengthWithunit.value + lengthWithunit.unit;\n}\n","/*\n * DefaultProps object for different loaders\n */\nvar commonValues = {\n    loading: true,\n    color: \"#000000\",\n    css: \"\",\n    speedMultiplier: 1\n};\nexport function sizeDefaults(sizeValue) {\n    return Object.assign({}, commonValues, { size: sizeValue });\n}\nexport function sizeMarginDefaults(sizeValue) {\n    return Object.assign({}, sizeDefaults(sizeValue), {\n        margin: 2\n    });\n}\nexport function heightWidthDefaults(height, width) {\n    return Object.assign({}, commonValues, {\n        height: height,\n        width: width\n    });\n}\nexport function heightWidthRadiusDefaults(height, width, radius) {\n    if (radius === void 0) { radius = 2; }\n    return Object.assign({}, heightWidthDefaults(height, width), {\n        radius: radius,\n        margin: 2\n    });\n}\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\n/** @jsxImportSource @emotion/react */\nimport * as React from \"react\";\nimport { keyframes, css } from \"@emotion/react\";\nimport { sizeDefaults, parseLengthAndUnit, cssValue } from \"./helpers\";\nvar right = keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)}\\n  100% {transform: rotateX(180deg) rotateY(360deg) rotateZ(360deg)}\\n\"], [\"\\n  0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)}\\n  100% {transform: rotateX(180deg) rotateY(360deg) rotateZ(360deg)}\\n\"])));\nvar left = keyframes(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)}\\n  100% {transform: rotateX(360deg) rotateY(180deg) rotateZ(360deg)}\\n\"], [\"\\n  0% {transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg)}\\n  100% {transform: rotateX(360deg) rotateY(180deg) rotateZ(360deg)}\\n\"])));\nvar Loader = /** @class */ (function (_super) {\n    __extends(Loader, _super);\n    function Loader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.getSize = function () {\n            return _this.props.size;\n        };\n        _this.style = function (i) {\n            var _a = _this.props, color = _a.color, speedMultiplier = _a.speedMultiplier;\n            var _b = parseLengthAndUnit(_this.getSize()), value = _b.value, unit = _b.unit;\n            return css(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: \", \";\\n      height: \", \";\\n      border: \", \" solid \", \";\\n      opacity: 0.4;\\n      border-radius: 100%;\\n      animation-fill-mode: forwards;\\n      perspective: 800px;\\n      animation: \", \" \", \"s 0s infinite linear;\\n    \"], [\"\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: \", \";\\n      height: \", \";\\n      border: \", \" solid \", \";\\n      opacity: 0.4;\\n      border-radius: 100%;\\n      animation-fill-mode: forwards;\\n      perspective: 800px;\\n      animation: \", \" \", \"s 0s infinite linear;\\n    \"])), \"\" + value + unit, \"\" + value + unit, \"\" + value / 10 + unit, color, i === 1 ? right : left, 2 / speedMultiplier);\n        };\n        _this.wrapper = function () {\n            return css(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n      width: \", \";\\n      height: \", \";\\n      position: relative;\\n    \"], [\"\\n      width: \", \";\\n      height: \", \";\\n      position: relative;\\n    \"])), cssValue(_this.getSize()), cssValue(_this.getSize()));\n        };\n        return _this;\n    }\n    Loader.prototype.render = function () {\n        var _a = this.props, loading = _a.loading, css = _a.css;\n        return loading ? (_jsxs(\"span\", __assign({ css: [this.wrapper(), css] }, { children: [_jsx(\"span\", { css: this.style(1) }, void 0), _jsx(\"span\", { css: this.style(2) }, void 0)] }), void 0)) : null;\n    };\n    Loader.defaultProps = sizeDefaults(60);\n    return Loader;\n}(React.PureComponent));\nexport default Loader;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;\n"],"names":["coinId","console","log","useState","chartOptions","setChartOptions","useQuery","fetchCoinHistory","refetchInterval","isLoading","data","useEffect","series","map","obj","x","Date","time_close","y","open","high","low","close","options","chart","type","height","toolbar","show","title","text","align","xaxis","yaxis","tooltip","enabled","custom","temp","dataPointIndex","style","zIndex","color","BASE_URL","fetchCoins","fetch","json","response","fetchCoinInfo","fetchCoinTickers","then","Math","floor","now","cssUnit","cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","parseLengthAndUnit","size","value","unit","valueString","match","toString","includes","parseFloat","parseInt","warn","cssValue","lengthWithunit","commonValues","loading","css","speedMultiplier","sizeDefaults","sizeValue","Object","assign","templateObject_1","templateObject_2","templateObject_3","templateObject_4","__makeTemplateObject","cooked","raw","defineProperty","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","__assign","t","s","i","n","arguments","length","apply","right","keyframes","left","Loader","_super","_this","getSize","props","_a","_b","wrapper","render","_jsxs","children","_jsx","defaultProps","React"],"sourceRoot":""}