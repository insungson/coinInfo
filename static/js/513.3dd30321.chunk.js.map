{"version":3,"file":"static/js/513.3dd30321.chunk.js","mappings":"kRAGYA,E,WAAZ,SAAYA,GAAAA,EAAAA,aAAAA,eAAAA,EAAAA,cAAAA,gBAAZ,CAAYA,IAAAA,EAAAA,KAqBL,IAAMC,GAAaC,EAAAA,EAAAA,IAAe,CACvCC,IAAK,aACLC,QAAS,KAIEC,GAAkBH,EAAAA,EAAAA,IAAoB,CACjDC,IAAK,kBACLC,QAAS,OAIEE,GAAmBJ,EAAAA,EAAAA,IAAqB,CACnDC,IAAK,mBACLC,QAAS,OAIEG,GAAkBC,EAAAA,EAAAA,IAAS,CACtCL,IAAK,kBACLM,IAAK,YAAc,IAAXA,EAAU,EAAVA,IACAC,EAAWD,EAAIR,GACfU,EAAcF,EAAIJ,GACxB,OAAOK,EAASE,QAAO,SAACC,GAAD,OAAUA,EAAKC,WAAaH,QAK1CI,GAAkBP,EAAAA,EAAAA,IAAS,CACtCL,IAAK,kBACLM,IAAK,YAAc,IACXC,GAAWD,EADD,EAAVA,KACeR,GAMrB,OAJqBe,MAAMC,KACzB,IAAIC,IAAJ,OAAQR,QAAR,IAAQA,OAAR,EAAQA,EAAUS,KAAI,SAACN,GAAD,OAAUA,EAAKC,cAGnBK,KAAI,SAACL,GACvB,OAAOJ,EAASE,QAAO,SAACQ,GAAD,OAAaA,EAAQN,WAAaA,Y,uGCiF/D,IAxIiB,SAAC,GAA+C,IAAD,UAA5CO,EAA4C,EAA5CA,SAClB,GAAsCC,EAAAA,EAAAA,IAAehB,EAAAA,IAArD,eAAOiB,EAAP,KACMC,GADN,MACqBC,EAAAA,EAAAA,IAAkBxB,EAAAA,KACvC,GAMIyB,EAAAA,EAAAA,MALFC,EADF,EACEA,SACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OACbE,EAJF,EAIEA,MACAC,EALF,EAKEA,SAgCF,OAVAC,EAAAA,EAAAA,YAAU,WACFZ,GACJW,EAAS,WAAYX,KAEtB,CAACA,KAOF,UAAC,KAAD,CAASa,SAAUN,GA9BmB,SAACO,GACvCC,QAAQC,IAAI,eAAgBF,GAC5BX,GAAa,SAACc,GAAD,OACXA,EAAKC,OAAO,CACVC,GAAIC,KAAKC,MACTC,KAAMR,EAAKQ,KACXC,SAAUT,EAAKS,SACf9B,SAAUqB,EAAKrB,SACf+B,WAAYV,EAAKU,WACjBC,YAAaX,EAAKW,YAClBC,SAAUN,KAAKC,MACfM,UAAWhD,EAAAA,GAAAA,aACXiD,YAAY,EACZC,cAAc,OAGlBnB,OAcA,WACE,UAAC,KAAD,YACE,6CACA,0BACGR,IAA0B,OAAXA,QAAW,IAAXA,OAAA,EAAAA,EAAa4B,QAAS,GACpC,mCACEC,aAA2B,OAAb/B,EAAoBE,EAAY,GAAG8B,KAAOhC,EACxDiC,SAAuB,OAAbjC,GACNM,EAAS,WAAY,CAAE4B,SAAU,4BAHvC,aAKGhC,EAAYJ,KAAI,SAACqC,GAAD,OACf,mBAAyBC,MAAOD,EAAQH,KAAxC,SACGG,EAAQH,MADEG,EAAQhB,WAMzB,8DAGJ,iCAAIX,EAAOf,gBAAX,aAAI,EAAiB4C,cAGvB,UAAC,KAAD,YACE,2CACA,2BACE,4BACM/B,EAAS,WAAY,CACvBgC,eAAe,EACfJ,SAAU,iCACVK,SAAU,CACRC,SAAU,SAACJ,GAAD,OAAWA,EAAQ,WAKrC,iCAAI5B,EAAOe,gBAAX,aAAI,EAAiBc,cAGvB,UAAC,KAAD,YACE,8CACA,2BACE,4BACM/B,EAAS,cAAe,CAC1BgC,eAAe,EACfJ,SAAU,iCACVK,SAAU,CACRC,SAAU,SAACJ,GAAD,OAAWA,EAAQ,WAKrC,iCAAI5B,EAAOiB,mBAAX,aAAI,EAAoBY,cAG1B,UAAC,KAAD,YACE,oDACA,2BACE,4BACM/B,EAAS,aAAc,CACzBgC,eAAe,EACfJ,SAAU,iCACVK,SAAU,CACRC,SAAU,SAACJ,GAAD,OAAWA,EAAQ,WAKrC,iCAAI5B,EAAOgB,kBAAX,aAAI,EAAmBa,cAGzB,UAAC,KAAD,YACE,mDACA,2BACE,+BACM/B,EAAS,OAAQ,CACnB4B,SAAU,4BACVK,SAAU,CACRE,OAAQ,SAACL,GAAD,OACkB,IAAxBA,EAAMM,OAAOZ,QACT,qCAMd,iCAAItB,EAAOc,YAAX,aAAI,EAAae,cAEnB,SAAC,KAAD,WACE,SAAC,KAAD,4B,gJCvIKM,EAAcC,EAAAA,GAAAA,IAAH,kNAUXC,EAAeD,EAAAA,GAAAA,IAAH,oYAqBZE,EAAmBF,EAAAA,GAAAA,KAAH,4IAQhBG,EAAaH,EAAAA,GAAAA,GAAH,uCAIVI,EAAaJ,EAAAA,GAAAA,GAAH,sHAOVK,EAAmBL,EAAAA,GAAAA,GAAH,4HAOhBM,EAAiBN,EAAAA,GAAAA,GAAH,oHAgBdO,GARiBP,EAAAA,GAAAA,GAAH,4HAQLA,EAAAA,GAAAA,OAAH,yI,gDC6HnB,EAjMgD,SAAC,GAAiB,IAAD,UAAd7C,EAAc,EAAdA,QAC3CI,GAAeC,EAAAA,EAAAA,IAAkBxB,EAAAA,IACvC,GAOIyB,EAAAA,EAAAA,IAAgB,CAClB+C,cAAe,CACb9B,KAAMvB,EAAQuB,KACdC,SAAUxB,EAAQwB,SAClB9B,SAAUM,EAAQN,SAClB+B,WAAYzB,EAAQyB,WACpBC,YAAa1B,EAAQ0B,YACrBE,UAAW5B,EAAQ4B,aAbrBrB,EADF,EACEA,SACAC,EAFF,EAEEA,aAEaC,GAJf,EAGE6C,UAHF,EAIE5C,UAAaD,QACbE,EALF,EAKEA,MACA4C,EANF,EAMEA,QAmDIC,GAAiBC,EAAAA,EAAAA,IAAS,CAC9BF,QAAAA,EACAtB,KAAM,cAIR,OAFAjB,QAAQC,IAAI,mBAAoBuC,IAG9B,UAAC,KAAD,CAAS1C,SAAUN,GA9CmB,SAACO,GACvCC,QAAQC,IAAI,eAAgBF,GAC5BX,GAAa,SAACc,GAAU,IAAD,EACfwC,EAAWxC,EAAKyC,WAAU,SAAClE,GAAD,OAAUA,EAAK2B,KAAOpB,EAAQoB,MAe9D,MAAM,GAAN,eACKF,EAAK0C,MAAM,EAAGF,IADnB,oBAGOxC,EAAKwC,IAHZ,IAIInC,KAAMR,EAAKQ,KACXC,SAAUT,EAAKS,SACf9B,SAAUqB,EAAKrB,SACf+B,WAAYV,EAAKU,WACjBC,YAAaX,EAAKW,YAClBE,UAAWb,EAAKa,UAChBiC,UAAS,iBAAE9C,QAAF,IAAEA,OAAF,EAAEA,EAAM8C,iBAAR,QAAqB,EAC9BhC,YAAY,EACZC,cAAc,MAZlB,OAcKZ,EAAK0C,MAAMF,EAAW,QAG7B/C,OAWA,WACE,UAAC,KAAD,YACE,6CACA,2BACE,mBAAQuB,UAAQ,EAAhB,UACE,4BAASlC,EAAQN,mBAIvB,UAAC,KAAD,YACE,4CACA,2BACE,sCAAYa,EAAS,cAArB,eACE,mBAAQ8B,MAAOzD,EAAAA,GAAAA,aAAf,SACGA,EAAAA,GAAAA,gBAEH,mBAAQyD,MAAOzD,EAAAA,GAAAA,cAAf,SACGA,EAAAA,GAAAA,yBAKR4E,IAAmB5E,EAAAA,GAAAA,gBAClB,UAAC,KAAD,YACE,4CACA,2BACE,4BACM2B,EAAS,YAAa,CACxBgC,eAAe,EACfJ,SAAU,iCACVK,SAAU,CAERC,SAAU,SAACJ,GAAD,OAAWA,EAAQ,WAKrC,iCAAI5B,EAAOe,gBAAX,aAAI,EAAiBc,cAGzB,UAAC,KAAD,YACE,2CACA,2BACE,4BACM/B,EAAS,WAAY,CACvBgC,eAAe,EACfJ,SAAU,iCACVK,SAAU,CACRC,SAAU,SAACJ,GAAD,OAAWA,EAAQ,WAKrC,iCAAI5B,EAAOe,gBAAX,aAAI,EAAiBc,cAGvB,UAAC,KAAD,YACE,8CACA,2BACE,4BACM/B,EAAS,cAAe,CAC1BgC,eAAe,EACfJ,SAAU,iCACVK,SAAU,CACRC,SAAU,SAACJ,GAAD,OAAWA,EAAQ,WAKrC,iCAAI5B,EAAOiB,mBAAX,aAAI,EAAoBY,cAG1B,UAAC,KAAD,YACE,oDACA,2BACE,4BACM/B,EAAS,aAAc,CACzBgC,eAAe,EACfJ,SAAU,iCACVK,SAAU,CACRC,SAAU,SAACJ,GAAD,OAAWA,EAAQ,WAKrC,iCAAI5B,EAAOgB,kBAAX,aAAI,EAAmBa,cAGzB,UAAC,KAAD,YACE,mDAcA,iCAAI7B,EAAOc,YAAX,aAAI,EAAae,cAEnB,SAAC,KAAD,WACE,2BACE,+BACM/B,EAAS,OAAQ,CACnB4B,SAAU,4BACVK,SAAU,CACRE,OAAQ,SAACL,GAAD,OACkB,IAAxBA,EAAMM,OAAOZ,QACT,uCAOhB,SAAC,KAAD,WACE,SAAC,KAAD,2BC5JR,EAnBK,SAAC,GAAsC,IAApC+B,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SAE1B,OAAIF,EAAQlC,YAAchD,EAAAA,GAAAA,cACjB,SAACqE,EAAD,UAA6Be,GAAZD,GAGpBD,EAAQD,UAENC,EAAQD,UAAYC,EAAQtC,SAAW,GAClC,SAAC0B,EAAD,UAAmCc,GAAZD,IAEvB,SAACZ,EAAD,UAAiCa,GAAZD,IAGvB,SAACd,EAAD,UAA6Be,GAAZD,IC2C9B,EAxDK,SAAC,GAA4C,IAA1CD,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,UAAWE,EAAqB,EAArBA,eAC1B,OACE,iCAEE,UAAC,EAAD,CAAoBH,QAASA,EAASC,UAAWA,EAAjD,UACGD,EAAQjC,aACP,0BACE,2CAGJ,4BACE,2CACA,SAACkB,EAAD,UAAmBe,EAAQlC,gBAE7B,4BACE,0BAAOkC,EAAQjC,WAAa,kBAAoB,kBAChD,SAACkB,EAAD,UACGmB,IACCJ,EAAQjC,WAAaiC,EAAQK,WAAaL,EAAQnC,UAClDyC,OAAO,oBAGb,4BACE,0CACA,SAACrB,EAAD,UAAmBe,EAAQtC,eAE7B,4BACE,iDACA,SAACuB,EAAD,UAAmBe,EAAQrC,iBAE7B,4BACE,6CACA,SAACsB,EAAD,UAAmBe,EAAQpC,kBAE7B,4BACE,iDACA,UAACqB,EAAD,gBACKe,EAAQtC,SAAWsC,EAAQrC,kBAGlC,4BACE,gDACA,uBAAIqC,EAAQvC,WAEd,gBAAK8C,MAAO,CAAEC,UAAW,UAAzB,UACE,SAAClB,EAAD,CAAQmB,QAAS,kBAAMN,EAAeH,IAAtC,gEAMHA,EAAQhC,eAAgB,SAAC,EAAD,CAAgB9B,QAAS8D,Q,UCuDxD,EArGmD,SAAC,GAAkB,IAAhBpE,EAAe,EAAfA,SAC9C8E,GAAWC,EAAAA,EAAAA,MACXC,GAAkBC,EAAAA,EAAAA,IAAezF,EAAAA,IACjCkB,GAAeC,EAAAA,EAAAA,IAAkBxB,EAAAA,IAGjC+F,GAAeD,EAAAA,EAAAA,IAAexF,EAAAA,IACpC6B,QAAQC,IAAI,iBAAkB2D,GAC9B,IAAMC,GAAmBF,EAAAA,EAAAA,IAAehF,EAAAA,IACxCqB,QAAQC,IAAI,qBAAsB4D,GAElC,IAAMZ,GAAiBa,EAAAA,EAAAA,cACrB,SAAChB,GACC1D,GAAa,SAACc,GACZF,QAAQC,IAAI,SAAUC,GACtB,IAAMwC,EAAWxC,EAAKyC,WAAU,SAAClE,GAAD,OAAUA,EAAK2B,KAAO0C,EAAQ1C,MAExD2D,EAAsB7D,EAAKwC,GAAU5B,aAG3C,OADyBZ,EAAKwC,GAAU9B,YACfhD,EAAAA,GAAAA,aACjB,GAAN,eACKsC,EAAK0C,MAAM,EAAGF,IADnB,oBAGOxC,EAAKwC,IAHZ,IAII5B,cAAeiD,MAJnB,OAMK7D,EAAK0C,MAAMF,EAAW,MAG3BsB,MAAM,6CACC9D,QAIb,CAACd,IAGG6E,GAAoBH,EAAAA,EAAAA,cACxB,SAACpF,GAEC,GADAsB,QAAQC,IAAI,oBAAqByD,GAC7BA,EAAiB,CACnB,IAAMQ,EAAUR,EAAgBS,MAAK,SAAC1F,GAAD,OAAUA,EAAKwC,OAASvC,KAC7D8E,EAAS,IAAD,cAAKU,QAAL,IAAKA,OAAL,EAAKA,EAAS9D,QAG1B,CAACoD,EAAUE,IAGb,OACE,gCACgB,OAAbhF,IACEmF,GAAoBA,EAAiB9C,OAAS,EAC7C8C,EAAiB9E,KAAI,SAACqC,EAASgD,GAAV,OACnB,UAACxC,EAAD,YACE,0BACE,SAACQ,EAAD,CAAQmB,QAAS,kBAAMU,EAAkB7C,EAAQ,GAAG1C,WAApD,SACG0C,EAAQ,GAAG1C,cAGhB,SAACoD,EAAD,WACE,SAACE,EAAD,UACGZ,EAAQrC,KAAI,SAACN,EAAM4F,GAAP,OACX,+BACE,SAAC,EAAD,CACEvB,QAASrE,EACTsE,UAAWsB,EACXpB,eAAgBA,eAbVmB,OAsBpB,0EAEU,OAAb1F,IACEkF,GAAgBA,EAAa7C,OAAS,GACrC,UAACa,EAAD,YACE,yBAAMgC,EAAa,GAAGlF,YACtB,SAACoD,EAAD,WACE,SAACE,EAAD,UACG4B,EAAa7E,KAAI,SAAC+D,EAASC,GAAV,OAChB,SAAC,EAAD,CACED,QAASA,EACTC,UAAWA,EACXE,eAAgBA,eAO1B,+E,2NCtHGqB,EAAYzC,EAAAA,GAAAA,IAAH,sFAeT0C,GATW1C,EAAAA,GAAAA,GAAH,sBAEDA,EAAAA,GAAAA,GAAH,iHACK,SAAC2C,GAAD,OAAWA,EAAMC,MAAMC,aAClC,SAACF,GAAD,OAAWA,EAAMC,MAAME,WAKZ9C,EAAAA,GAAAA,OAAH,gHAON+C,EAAQ/C,EAAAA,GAAAA,KAAH,2DAEP,SAAC2C,GAAD,OAAWA,EAAMC,MAAMC,aAYrBtC,GATSP,EAAAA,GAAAA,KAAH,kEAKEA,EAAAA,GAAAA,MAAH,sBAEMA,EAAAA,GAAAA,SAAH,sBAECA,EAAAA,GAAAA,OAAH,2GAGG,SAAC2C,GAAD,OAAWA,EAAMC,MAAME,WAClC,SAACH,GAAD,OAAWA,EAAMC,MAAMC,cAGrBG,EAAUhD,EAAAA,GAAAA,KAAH,sKAQPiD,EAAWjD,EAAAA,GAAAA,IAAH,iiBAsBR,SAAC2C,GAAD,OAAWA,EAAMC,MAAMC","sources":["atoms/memosAtom.ts","components/memoForm.tsx","components/styledComponents/memoList.tsx","components/memoModifyForm.tsx","components/memosListLiWrapper.tsx","components/memosListNormal.tsx","components/memosList.tsx","components/styledComponents/memos.tsx"],"sourcesContent":["import { atom, selector } from \"recoil\";\r\nimport { ICoin } from \"@models/coins\";\r\n\r\nexport enum MemoState {\r\n  \"planingToBuy\" = \"PlaningToBuy\",\r\n  \"completedDeal\" = \"CompletedDeal\",\r\n}\r\n\r\nexport interface IMemos {\r\n  id: number; // 메모아이디.. 날짜 -> 최초 입력 시 날짜 -> 숫자로 컨버팅\r\n  text: string; // 메모한것\r\n  buyPrice: number; // 구입 가격\r\n  coinNumber: number; // 구입 갯수\r\n  targetPrice: number; // 목표 가격\r\n  sellPrice?: number | null; // 판 가격\r\n  coinType: string; // 코인타입\r\n  writedAt: number; // 최초 작성날짜\r\n  memoState: MemoState; // 메모 상태\r\n  modifiedAt?: number; // 마지막 수정날짜\r\n  isModified: boolean; // 1회 이상 수정 시 true 처리\r\n  isModifyOpen: boolean; // 수정 폼 띄우기 여부\r\n}\r\n\r\n// 전체 메모정보\r\nexport const memosState = atom<IMemos[]>({\r\n  key: \"memosState\",\r\n  default: [],\r\n});\r\n\r\n// 현재 위치한 코인페이지\r\nexport const currentCoinPage = atom<string | null>({\r\n  key: \"currentCoinPage\",\r\n  default: null,\r\n});\r\n\r\n// 코인 타입 리스트 모음\r\nexport const coinListObjState = atom<ICoin[] | null>({\r\n  key: \"coinListObjState\",\r\n  default: null,\r\n});\r\n\r\n// 현재 코인 페이지의 코인 목록만 가져옮\r\nexport const getOneCoinMemos = selector({\r\n  key: \"getOneCoinMemos\",\r\n  get: ({ get }) => {\r\n    const allMemos = get(memosState);\r\n    const currentPage = get(currentCoinPage);\r\n    return allMemos.filter((item) => item.coinType === currentPage);\r\n  },\r\n});\r\n\r\n// 전체 코인을 코인 타입으로 나누고, 메모 상태로 구분하여 보여준다\r\nexport const getAllCoinMemos = selector({\r\n  key: \"getAllCoinMemos\",\r\n  get: ({ get }) => {\r\n    const allMemos = get(memosState);\r\n    // 코인타입리스트 불러오기 (중복제거 처리하기)\r\n    const coinTypeList = Array.from(\r\n      new Set(allMemos?.map((item) => item.coinType))\r\n    );\r\n    // [[{},{}],[{},{},{}], ...];  형태로 쪼개기\r\n    return coinTypeList.map((coinType) => {\r\n      return allMemos.filter((memoObj) => memoObj.coinType === coinType);\r\n    });\r\n  },\r\n});\r\n","import { useEffect } from \"react\";\r\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\r\nimport { coinListObjState, memosState, MemoState } from \"@atoms/memosAtom\";\r\nimport { useForm, SubmitHandler } from \"react-hook-form\";\r\nimport { IMemos } from \"@atoms/memosAtom\";\r\nimport { FormBox, FromItem, Button } from \"@components/styledComponents/memos\";\r\n\r\nconst MemoForm = ({ coinName }: { coinName: string | null }) => {\r\n  const [coinObjList, setCoinObjList] = useRecoilState(coinListObjState);\r\n  const setMemoState = useSetRecoilState(memosState);\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n    setValue,\r\n  } = useForm<IMemos>();\r\n\r\n  const onSubmit: SubmitHandler<IMemos> = (data) => {\r\n    console.log(\"SubmitData: \", data);\r\n    setMemoState((prev) =>\r\n      prev.concat({\r\n        id: Date.now(),\r\n        text: data.text,\r\n        buyPrice: data.buyPrice,\r\n        coinType: data.coinType,\r\n        coinNumber: data.coinNumber,\r\n        targetPrice: data.targetPrice,\r\n        writedAt: Date.now(),\r\n        memoState: MemoState.planingToBuy,\r\n        isModified: false,\r\n        isModifyOpen: false,\r\n      })\r\n    );\r\n    reset();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!coinName) {\r\n      setValue(\"coinType\", coinName);\r\n    }\r\n  }, [coinName]);\r\n\r\n  // const onSelectCoinName = (event: FormEvent<HTMLSelectElement>) => {\r\n  //   const { value } = event.currentTarget;\r\n  // };\r\n\r\n  return (\r\n    <FormBox onSubmit={handleSubmit(onSubmit)}>\r\n      <FromItem>\r\n        <span>Select Coin: </span>\r\n        <span>\r\n          {coinObjList && coinObjList?.length > 0 ? (\r\n            <select\r\n              defaultValue={coinName === null ? coinObjList[0].name : coinName}\r\n              disabled={coinName === null ? false : true}\r\n              {...register(\"coinType\", { required: \"You have to Select one\" })}\r\n            >\r\n              {coinObjList.map((coinObj) => (\r\n                <option key={coinObj.id} value={coinObj.name}>\r\n                  {coinObj.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          ) : (\r\n            <>there is no coinNameList</>\r\n          )}\r\n        </span>\r\n        <p>{errors.coinType?.message}</p>\r\n      </FromItem>\r\n\r\n      <FromItem>\r\n        <span>Buy Price: </span>\r\n        <span>\r\n          <input\r\n            {...register(\"buyPrice\", {\r\n              valueAsNumber: true,\r\n              required: \"only positive Number Available\",\r\n              validate: {\r\n                positive: (value) => value > 0,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n        <p>{errors.buyPrice?.message}</p>\r\n      </FromItem>\r\n\r\n      <FromItem>\r\n        <span>Target Price: </span>\r\n        <span>\r\n          <input\r\n            {...register(\"targetPrice\", {\r\n              valueAsNumber: true,\r\n              required: \"only positive Number Available\",\r\n              validate: {\r\n                positive: (value) => value > 0,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n        <p>{errors.targetPrice?.message}</p>\r\n      </FromItem>\r\n\r\n      <FromItem>\r\n        <span>Coin Number To Buy: </span>\r\n        <span>\r\n          <input\r\n            {...register(\"coinNumber\", {\r\n              valueAsNumber: true,\r\n              required: \"only positive Number Available\",\r\n              validate: {\r\n                positive: (value) => value > 0,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n        <p>{errors.coinNumber?.message}</p>\r\n      </FromItem>\r\n\r\n      <FromItem>\r\n        <span>Memo for your Trade</span>\r\n        <span>\r\n          <textarea\r\n            {...register(\"text\", {\r\n              required: \"write at least one letter\",\r\n              validate: {\r\n                letter: (value) =>\r\n                  value.trim().length === 0\r\n                    ? \"write at least one letter\"\r\n                    : true,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n        <p>{errors.text?.message}</p>\r\n      </FromItem>\r\n      <FromItem>\r\n        <Button>Submit</Button>\r\n      </FromItem>\r\n    </FormBox>\r\n  );\r\n};\r\n\r\nexport default MemoForm;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MemoCardBox = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  padding: 10px 20px;\r\n  border-radius: 10px;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const MemoCardItem = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  span {\r\n    font-size: 10px;\r\n    font-weight: 400;\r\n    text-transform: uppercase;\r\n    margin-bottom: 5px;\r\n    margin-left: 10px;\r\n  }\r\n  p {\r\n    font-size: 10px;\r\n    font-weight: 400;\r\n    text-transform: uppercase;\r\n    margin-left: 10px;\r\n    margin-bottom: 5px;\r\n  }\r\n`;\r\n\r\nexport const MemoCardItemSpan = styled.span`\r\n  font-size: 10px;\r\n  font-weight: 400;\r\n  text-transform: uppercase;\r\n  margin-bottom: 5px;\r\n  margin-left: 10px;\r\n`;\r\n\r\nexport const MemoCardUl = styled.ul`\r\n  width: 80%;\r\n`;\r\n// 보통 리스트 카드\r\nexport const MemoCardLi = styled.li`\r\n  background-color: white;\r\n  color: #2f3640;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n`;\r\n// 수익난 리스트 카드\r\nexport const MemoCardLiProfit = styled.li`\r\n  background-color: greenyellow;\r\n  color: #2f3640;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n`;\r\n// 손실난 리스트 카드\r\nexport const MemoCardLiLoss = styled.li`\r\n  background-color: red;\r\n  color: #2f3640;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\n// 거래 완료된 li (TODO: 수익난것, 손실난것 구분처리 해보기)\r\nexport const MemoCardDoneLi = styled.li`\r\n  background-color: yellowgreen;\r\n  color: #2f3640;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\n// 버튼\r\nexport const Button = styled.button`\r\n  text-align: center;\r\n  padding: 0.5em;\r\n  border-radius: 6px;\r\n  background-color: #2f3640;\r\n  color: white;\r\n`;\r\n","import { FC, memo } from \"react\";\r\nimport { useRecoilState, useSetRecoilState } from \"recoil\";\r\nimport { memosState, MemoState } from \"@atoms/memosAtom\";\r\nimport { useForm, SubmitHandler, useWatch } from \"react-hook-form\";\r\nimport { IMemos } from \"@atoms/memosAtom\";\r\nimport { FormBox, FromItem, Button } from \"@components/styledComponents/memos\";\r\n\r\nconst MemoModifyForm: FC<{ memoObj: IMemos }> = ({ memoObj }) => {\r\n  const setMemoState = useSetRecoilState(memosState);\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    getValues,\r\n    formState: { errors },\r\n    reset,\r\n    control,\r\n  } = useForm<IMemos>({\r\n    defaultValues: {\r\n      text: memoObj.text,\r\n      buyPrice: memoObj.buyPrice,\r\n      coinType: memoObj.coinType,\r\n      coinNumber: memoObj.coinNumber,\r\n      targetPrice: memoObj.targetPrice,\r\n      memoState: memoObj.memoState,\r\n    },\r\n  });\r\n\r\n  const onSubmit: SubmitHandler<IMemos> = (data) => {\r\n    console.log(\"SubmitData: \", data);\r\n    setMemoState((prev) => {\r\n      const objIndex = prev.findIndex((item) => item.id === memoObj.id);\r\n      // // setState 는 아래와 같이 수정하면 안되고..\r\n      // // return 에서 slice 함수를 사용하여 처리해야 한다.\r\n      // prev[objIndex] = {\r\n      //   ...prev[objIndex],\r\n      //   text: data.text,\r\n      //   buyPrice: data.buyPrice,\r\n      //   coinType: data.coinType,\r\n      //   coinNumber: data.coinNumber,\r\n      //   targetPrice: data.targetPrice,\r\n      //   memoState: data.memoState, // form 만들기\r\n      //   sellPrice: data?.sellPrice ?? 0, // 판 가격 MemoState.completedDeal 일때만 입력 가능!\r\n      //   isModified: true,\r\n      //   isModifyOpen: false,\r\n      // };\r\n      return [\r\n        ...prev.slice(0, objIndex),\r\n        {\r\n          ...prev[objIndex],\r\n          text: data.text,\r\n          buyPrice: data.buyPrice,\r\n          coinType: data.coinType,\r\n          coinNumber: data.coinNumber,\r\n          targetPrice: data.targetPrice,\r\n          memoState: data.memoState, // form 만들기\r\n          sellPrice: data?.sellPrice ?? 0, // 판 가격 MemoState.completedDeal 일때만 입력 가능!\r\n          isModified: true,\r\n          isModifyOpen: false,\r\n        },\r\n        ...prev.slice(objIndex + 1),\r\n      ];\r\n    });\r\n    reset();\r\n  };\r\n\r\n  // 아래의 방법으로 실시간 state 처럼 사용 가능!!\r\n  const memoStateWatch = useWatch({\r\n    control,\r\n    name: \"memoState\",\r\n  });\r\n  console.log(\"memoStateWatch: \", memoStateWatch);\r\n\r\n  return (\r\n    <FormBox onSubmit={handleSubmit(onSubmit)}>\r\n      <FromItem>\r\n        <span>Select Coin: </span>\r\n        <span>\r\n          <select disabled>\r\n            <option>{memoObj.coinType}</option>\r\n          </select>\r\n        </span>\r\n      </FromItem>\r\n      <FromItem>\r\n        <span>Memo State: </span>\r\n        <span>\r\n          <select {...register(\"memoState\")}>\r\n            <option value={MemoState.planingToBuy}>\r\n              {MemoState.planingToBuy}\r\n            </option>\r\n            <option value={MemoState.completedDeal}>\r\n              {MemoState.completedDeal}\r\n            </option>\r\n          </select>\r\n        </span>\r\n      </FromItem>\r\n      {memoStateWatch === MemoState.completedDeal && (\r\n        <FromItem>\r\n          <span>Sell Price: </span>\r\n          <span>\r\n            <input\r\n              {...register(\"sellPrice\", {\r\n                valueAsNumber: true,\r\n                required: \"only positive Number Available\",\r\n                validate: {\r\n                  //@ts-ignore\r\n                  positive: (value) => value > 0,\r\n                },\r\n              })}\r\n            />\r\n          </span>\r\n          <p>{errors.buyPrice?.message}</p>\r\n        </FromItem>\r\n      )}\r\n      <FromItem>\r\n        <span>Buy Price: </span>\r\n        <span>\r\n          <input\r\n            {...register(\"buyPrice\", {\r\n              valueAsNumber: true,\r\n              required: \"only positive Number Available\",\r\n              validate: {\r\n                positive: (value) => value > 0,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n        <p>{errors.buyPrice?.message}</p>\r\n      </FromItem>\r\n\r\n      <FromItem>\r\n        <span>Target Price: </span>\r\n        <span>\r\n          <input\r\n            {...register(\"targetPrice\", {\r\n              valueAsNumber: true,\r\n              required: \"only positive Number Available\",\r\n              validate: {\r\n                positive: (value) => value > 0,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n        <p>{errors.targetPrice?.message}</p>\r\n      </FromItem>\r\n\r\n      <FromItem>\r\n        <span>Coin Number To Buy: </span>\r\n        <span>\r\n          <input\r\n            {...register(\"coinNumber\", {\r\n              valueAsNumber: true,\r\n              required: \"only positive Number Available\",\r\n              validate: {\r\n                positive: (value) => value > 0,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n        <p>{errors.coinNumber?.message}</p>\r\n      </FromItem>\r\n\r\n      <FromItem>\r\n        <span>Memo for your Trade</span>\r\n        {/* <span>\r\n          <textarea\r\n            {...register(\"text\", {\r\n              required: \"write at least one letter\",\r\n              validate: {\r\n                letter: (value) =>\r\n                  value.trim().length === 0\r\n                    ? \"write at least one letter\"\r\n                    : true,\r\n              },\r\n            })}\r\n          />\r\n        </span> */}\r\n        <p>{errors.text?.message}</p>\r\n      </FromItem>\r\n      <FromItem>\r\n        <span>\r\n          <textarea\r\n            {...register(\"text\", {\r\n              required: \"write at least one letter\",\r\n              validate: {\r\n                letter: (value) =>\r\n                  value.trim().length === 0\r\n                    ? \"write at least one letter\"\r\n                    : true,\r\n              },\r\n            })}\r\n          />\r\n        </span>\r\n      </FromItem>\r\n      <FromItem>\r\n        <Button>Submit</Button>\r\n      </FromItem>\r\n    </FormBox>\r\n  );\r\n};\r\n\r\nexport default MemoModifyForm;\r\n","import { FC, ReactNode } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  MemoCardBox,\r\n  MemoCardItem,\r\n  MemoCardItemSpan,\r\n  MemoCardUl,\r\n  MemoCardLi,\r\n  MemoCardLiProfit,\r\n  MemoCardLiLoss,\r\n  Button,\r\n} from \"@components/styledComponents/memoList\";\r\nimport { IMemos, MemoState } from \"@atoms/memosAtom\";\r\nimport MemoModifyForm from \"./memoModifyForm\";\r\n\r\nconst MemosListLiWrapper: FC<{\r\n  itemObj: IMemos;\r\n  itemIndex: number;\r\n  children: ReactNode;\r\n}> = ({ itemObj, itemIndex, children }) => {\r\n  // MemoState.planingToBuy 일땐 그냥 MemoCardLi\r\n  if (itemObj.memoState === MemoState.planingToBuy) {\r\n    return <MemoCardLi key={itemIndex}>{children}</MemoCardLi>;\r\n  } else {\r\n    // MemoState.completedDeal 일땐\r\n    if (itemObj.sellPrice) {\r\n      // sellPrice - buyPrice > 0 ? MemoCardLiProfit : MemoCardLiLoss 처리\r\n      if (itemObj.sellPrice - itemObj.buyPrice > 0) {\r\n        return <MemoCardLiProfit key={itemIndex}>{children}</MemoCardLiProfit>;\r\n      } else {\r\n        return <MemoCardLiLoss key={itemIndex}>{children}</MemoCardLiLoss>;\r\n      }\r\n    } else {\r\n      return <MemoCardLi key={itemIndex}>{children}</MemoCardLi>;\r\n    }\r\n  }\r\n};\r\n\r\nexport default MemosListLiWrapper;\r\n","import { FC } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  MemoCardBox,\r\n  MemoCardItem,\r\n  MemoCardItemSpan,\r\n  MemoCardUl,\r\n  MemoCardLi,\r\n  MemoCardLiProfit,\r\n  MemoCardLiLoss,\r\n  Button,\r\n} from \"@components/styledComponents/memoList\";\r\nimport { IMemos } from \"@atoms/memosAtom\";\r\nimport MemoModifyForm from \"./memoModifyForm\";\r\nimport MemosListLiWrapper from \"./memosListLiWrapper\";\r\n\r\nconst MemosListNormal: FC<{\r\n  itemObj: IMemos;\r\n  itemIndex: number;\r\n  turnModifyForm: (obj: IMemos) => void;\r\n}> = ({ itemObj, itemIndex, turnModifyForm }) => {\r\n  return (\r\n    <>\r\n      {/* <MemoCardLi key={itemIndex}> */}\r\n      <MemosListLiWrapper itemObj={itemObj} itemIndex={itemIndex}>\r\n        {itemObj.isModified && (\r\n          <div>\r\n            <span>Modified!</span>\r\n          </div>\r\n        )}\r\n        <div>\r\n          <span>Trade State</span>\r\n          <MemoCardItemSpan>{itemObj.memoState}</MemoCardItemSpan>\r\n        </div>\r\n        <div>\r\n          <span>{itemObj.isModified ? \"Last Modified :\" : \"Write Date :\"}</span>\r\n          <MemoCardItemSpan>\r\n            {moment(\r\n              itemObj.isModified ? itemObj.modifiedAt : itemObj.writedAt\r\n            ).format(\"YYYY-MM-DD\")}\r\n          </MemoCardItemSpan>\r\n        </div>\r\n        <div>\r\n          <span>BuyPrice :</span>\r\n          <MemoCardItemSpan>{itemObj.buyPrice}</MemoCardItemSpan>\r\n        </div>\r\n        <div>\r\n          <span>Bought Quantity :</span>\r\n          <MemoCardItemSpan>{itemObj.coinNumber}</MemoCardItemSpan>\r\n        </div>\r\n        <div>\r\n          <span>TargetPrice :</span>\r\n          <MemoCardItemSpan>{itemObj.targetPrice}</MemoCardItemSpan>\r\n        </div>\r\n        <div>\r\n          <span>Expected Profit :</span>\r\n          <MemoCardItemSpan>\r\n            $ {itemObj.buyPrice * itemObj.coinNumber}\r\n          </MemoCardItemSpan>\r\n        </div>\r\n        <div>\r\n          <span>Memo You wrote :</span>\r\n          <p>{itemObj.text}</p>\r\n        </div>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Button onClick={() => turnModifyForm(itemObj)}>\r\n            수정 폼 켜기/끄기\r\n          </Button>\r\n        </div>\r\n        {/* </MemoCardLi> */}\r\n      </MemosListLiWrapper>\r\n      {itemObj.isModifyOpen && <MemoModifyForm memoObj={itemObj} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemosListNormal;\r\n","import { FC, useCallback } from \"react\";\r\nimport { useSetRecoilState } from \"recoil\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\nimport {\r\n  currentCoinPage,\r\n  getOneCoinMemos,\r\n  getAllCoinMemos,\r\n  MemoState,\r\n  IMemos,\r\n  memosState,\r\n  coinListObjState,\r\n} from \"@atoms/memosAtom\";\r\nimport moment from \"moment\";\r\nimport {\r\n  MemoCardBox,\r\n  MemoCardItem,\r\n  MemoCardItemSpan,\r\n  MemoCardUl,\r\n  MemoCardLi,\r\n  Button,\r\n} from \"@components/styledComponents/memoList\";\r\nimport MemoModifyForm from \"./memoModifyForm\";\r\nimport MemosListNormal from \"./memosListNormal\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst MemosList: FC<{ coinType: string | null }> = ({ coinType }) => {\r\n  const navigate = useNavigate();\r\n  const coinInfoObjList = useRecoilValue(coinListObjState);\r\n  const setMemoState = useSetRecoilState(memosState);\r\n  // coinType 가 null 일땐 전체 메모를 불러오고\r\n  // 아닐땐 필터된 메모리스트를 가져온다.\r\n  const coinTypeMemo = useRecoilValue(getOneCoinMemos);\r\n  console.log(\"coinTypeMemo: \", coinTypeMemo);\r\n  const allCoinTypeMemos = useRecoilValue(getAllCoinMemos);\r\n  console.log(\"allCoinTypeMemos: \", allCoinTypeMemos);\r\n  // 버튼 클릭시 수정할 수 있는 수정 폼 컴포넌트 키기! setRecoil로 수정하기\r\n  const turnModifyForm = useCallback(\r\n    (itemObj: IMemos) => {\r\n      setMemoState((prev) => {\r\n        console.log(\"prev: \", prev);\r\n        const objIndex = prev.findIndex((item) => item.id === itemObj.id);\r\n        // prev[objIndex].isModifyOpen = true;\r\n        const currentIsModifyOpen = prev[objIndex].isModifyOpen;\r\n        // memoState 가 CompletedDeal 일땐 수정창 안열고, 그냥 alert만 띄우기\r\n        const currentMemoState = prev[objIndex].memoState;\r\n        if (currentMemoState === MemoState.planingToBuy) {\r\n          return [\r\n            ...prev.slice(0, objIndex),\r\n            {\r\n              ...prev[objIndex],\r\n              isModifyOpen: !currentIsModifyOpen,\r\n            },\r\n            ...prev.slice(objIndex + 1),\r\n          ];\r\n        } else {\r\n          alert(\"Sorry, CompleteDeal is disable to change!\");\r\n          return prev;\r\n        }\r\n      });\r\n    },\r\n    [setMemoState]\r\n  );\r\n\r\n  const onClickMoveToPage = useCallback(\r\n    (coinType: string) => {\r\n      console.log(\"coinInfoObjList: \", coinInfoObjList);\r\n      if (coinInfoObjList) {\r\n        const infoObj = coinInfoObjList.find((item) => item.name === coinType);\r\n        navigate(`/${infoObj?.id}`);\r\n      }\r\n    },\r\n    [navigate, coinInfoObjList]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {coinType === null &&\r\n        (allCoinTypeMemos && allCoinTypeMemos.length > 0 ? (\r\n          allCoinTypeMemos.map((coinObj, coinObjIndex) => (\r\n            <MemoCardBox key={coinObjIndex}>\r\n              <div>\r\n                <Button onClick={() => onClickMoveToPage(coinObj[0].coinType)}>\r\n                  {coinObj[0].coinType}\r\n                </Button>\r\n              </div>\r\n              <MemoCardItem>\r\n                <MemoCardUl>\r\n                  {coinObj.map((item, index) => (\r\n                    <>\r\n                      <MemosListNormal\r\n                        itemObj={item}\r\n                        itemIndex={index}\r\n                        turnModifyForm={turnModifyForm}\r\n                      />\r\n                    </>\r\n                  ))}\r\n                </MemoCardUl>\r\n              </MemoCardItem>\r\n            </MemoCardBox>\r\n          ))\r\n        ) : (\r\n          <>There is no List you are looking for..</>\r\n        ))}\r\n      {coinType !== null &&\r\n        (coinTypeMemo && coinTypeMemo.length > 0 ? (\r\n          <MemoCardBox>\r\n            <div>{coinTypeMemo[0].coinType}</div>\r\n            <MemoCardItem>\r\n              <MemoCardUl>\r\n                {coinTypeMemo.map((itemObj, itemIndex) => (\r\n                  <MemosListNormal\r\n                    itemObj={itemObj}\r\n                    itemIndex={itemIndex}\r\n                    turnModifyForm={turnModifyForm}\r\n                  />\r\n                ))}\r\n              </MemoCardUl>\r\n            </MemoCardItem>\r\n          </MemoCardBox>\r\n        ) : (\r\n          <>There is no List you are looking for..</>\r\n        ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MemosList;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  padding: 0px 20px;\r\n  max-width: 480px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const MemoList = styled.ul``;\r\n\r\nexport const Memo = styled.li`\r\n  background-color: ${(props) => props.theme.textColor};\r\n  color: ${(props) => props.theme.bgColor};\r\n  border-radius: 15px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const Header = styled.header`\r\n  height: 15vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Title = styled.span`\r\n  font-size: 48px;\r\n  color: ${(props) => props.theme.textColor};\r\n`;\r\n\r\nexport const Loader = styled.span`\r\n  text-align: center;\r\n  display: block;\r\n`;\r\n\r\nexport const Input = styled.input``;\r\n\r\nexport const Textarea = styled.textarea``;\r\n\r\nexport const Button = styled.button`\r\n  padding: 0.5em;\r\n  border-radius: 6px;\r\n  background-color: ${(props) => props.theme.bgColor};\r\n  color: ${(props) => props.theme.textColor};\r\n`;\r\n\r\nexport const FormBox = styled.form`\r\n  display: block;\r\n  justify-content: space-between;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  padding: 10px 20px;\r\n  border-radius: 10px;\r\n`;\r\n\r\nexport const FromItem = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  align-content: center;\r\n  width: 80%;\r\n  margin-top: 10px;\r\n  justify-content: space-between;\r\n  span:first-child {\r\n    font-size: 10px;\r\n    font-weight: 400;\r\n    text-transform: uppercase;\r\n    margin-top: 5px;\r\n    margin-left: 10px;\r\n    margin-bottom: 5px;\r\n  }\r\n  span:last-child {\r\n    margin-left: 10px;\r\n    float: right;\r\n    /* margin-top: 5px; */\r\n  }\r\n  p {\r\n    color: ${(props) => props.theme.textColor};\r\n    font-size: 10px;\r\n  }\r\n  input {\r\n    width: 100px;\r\n  }\r\n`;\r\n"],"names":["MemoState","memosState","atom","key","default","currentCoinPage","coinListObjState","getOneCoinMemos","selector","get","allMemos","currentPage","filter","item","coinType","getAllCoinMemos","Array","from","Set","map","memoObj","coinName","useRecoilState","coinObjList","setMemoState","useSetRecoilState","useForm","register","handleSubmit","errors","formState","reset","setValue","useEffect","onSubmit","data","console","log","prev","concat","id","Date","now","text","buyPrice","coinNumber","targetPrice","writedAt","memoState","isModified","isModifyOpen","length","defaultValue","name","disabled","required","coinObj","value","message","valueAsNumber","validate","positive","letter","trim","MemoCardBox","styled","MemoCardItem","MemoCardItemSpan","MemoCardUl","MemoCardLi","MemoCardLiProfit","MemoCardLiLoss","Button","defaultValues","getValues","control","memoStateWatch","useWatch","objIndex","findIndex","slice","sellPrice","itemObj","itemIndex","children","turnModifyForm","moment","modifiedAt","format","style","textAlign","onClick","navigate","useNavigate","coinInfoObjList","useRecoilValue","coinTypeMemo","allCoinTypeMemos","useCallback","currentIsModifyOpen","alert","onClickMoveToPage","infoObj","find","coinObjIndex","index","Container","Header","props","theme","textColor","bgColor","Title","FormBox","FromItem"],"sourceRoot":""}