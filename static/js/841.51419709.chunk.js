"use strict";(self.webpackChunkcrypto_tracker=self.webpackChunkcrypto_tracker||[]).push([[841],{1841:function(t,n,e){e.r(n),e.d(n,{default:function(){return p}});var r=e(885),o=e(2791),i=e(1933),a=e(6478),c=e(3496),s=e(4206),u=e.n(s),h=e(5671),d=e(3144),f=function(){function t(n){(0,h.Z)(this,t),this.data=void 0,this.data=n}return(0,d.Z)(t,[{key:"getPriceChartOptions",value:function(){var t,n;return{type:"line",series:[{name:"Price",data:null===(t=this.data)||void 0===t?void 0:t.map((function(t){return t.close}))}],options:{theme:{mode:"dark"},chart:{height:300,width:500,toolbar:{show:!1},background:"transparent"},grid:{show:!1},stroke:{curve:"smooth",width:4},yaxis:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},type:"datetime",categories:null===(n=this.data)||void 0===n?void 0:n.map((function(t){return t.time_close}))},fill:{type:"gradient",gradient:{gradientToColors:["#0be881"],stops:[0,100]}},colors:["#0fbcf9"],tooltip:{y:{formatter:function(t){return"$".concat(t.toFixed(2))}}}}}}}]),t}(),l=e(184),p=function(t){var n=t.coinId;console.log("chart coinId: ",n);var e=(0,o.useState)(null),s=(0,r.Z)(e,2),h=s[0],d=s[1],p=(0,i.useQuery)(["ohlcv",n],(function(){return(0,a.XB)(n)}),{refetchInterval:1e4}),v=p.isLoading,w=p.data;return(0,o.useEffect)((function(){w&&(console.log("data777: ",w),d(new f(w).getPriceChartOptions()))}),[w]),(0,l.jsx)(l.Fragment,{children:v?(0,l.jsx)(u(),{}):h&&(0,l.jsx)(c.Z,{type:h.type,series:h.series,options:{theme:{mode:"dark"},chart:{height:300,width:500,toolbar:{show:!1},background:"transparent"},grid:{show:!1},stroke:{curve:"smooth",width:4},yaxis:{show:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},type:"datetime",categories:null===w||void 0===w?void 0:w.map((function(t){return t.time_close}))},fill:{type:"gradient",gradient:{gradientToColors:["#0be881"],stops:[0,100]}},colors:["#0fbcf9"],tooltip:{y:{formatter:function(t){return"$".concat(t.toFixed(2))}}}}})})}},6478:function(t,n,e){e.d(n,{Du:function(){return s},XB:function(){return u},Yr:function(){return a},_B:function(){return c}});var r=e(4165),o=e(5861),i="https://api.coinpaprika.com/v1",a=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(i,"/coins"));case 2:return t.next=4,t.sent.json();case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(i,"/coins/").concat(n));case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();function s(t){return fetch("".concat(i,"/tickers/").concat(t)).then((function(t){return t.json()}))}function u(t){Math.floor(Date.now()/1e3);return fetch("https://ohlcv-api.nomadcoders.workers.dev/?coinId=".concat(t)).then((function(t){return t.json()}))}}}]);
//# sourceMappingURL=841.51419709.chunk.js.map